<%# /views/notes/show.html.erb %>

<% content_for :title, "Note Details" %>

<div class="w-full">
  <% if notice.present? %>
    <%= render NoticeComponent.new(message: notice, type: :success) %>
  <% end %>

  <h1 class="font-bold text-4xl mb-4">Note details</h1>

  <div class="border-l-4 pl-4 py-4 bg-blue-50 dark:bg-gray-800 border-blue-400 dark:border-blue-600 rounded-md mb-6">
    <p class="text-gray-800 dark:text-gray-100 text-lg"><%= @note.content %></p>

    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
      Created at: <%= @note.created_at.strftime("%d.%m.%Y %H:%M") %>
      <% if @note.user.present? %>
        &middot; by <%= @note.user.email %>
      <% end %>
    </p>

    <p class="text-sm text-gray-500 dark:text-gray-400">
      Related contact:
      <%= link_to @note.contact.name, contact_path(@note.contact),
          class: "text-blue-600 dark:text-blue-400 hover:underline font-medium" %>
    </p>
  </div>

  <div class="flex flex-wrap gap-2">
    <%= render ButtonComponent.new(text: "Edit this note", href: edit_note_path(@note), variant: :secondary) %>
    <%= render ButtonComponent.new(text: "Back to all notes", href: notes_path, variant: :secondary) %>
    <%= render ButtonComponent.new(
      text: "Delete this note",
      href: note_path(@note),
      method: :delete,
      data: { turbo_confirm: "Are you sure?" },
      variant: :danger
    ) %>
  </div>
</div>
